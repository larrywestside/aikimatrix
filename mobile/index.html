<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aikimatrix - Mobile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="mobile.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="../urls.bodoroedel.js"></script>
    <script src="../urls.christiantissier.js"></script>
    <script src="../urls.karlruben.js"></script>
    <script src="../urls.francoispichereau.js"></script>
    <script src="mobile.js"></script>
  </head>

  <body>
    <div class="container my-5">
      <div class="col-lg-8 px-0">
        <p class="fs-5">
          <h1>Aikimatrix Mobile</h1>
          Kyūtechniken nach Prüfungsordnung der <a href="https://www.aikido-foederation.de/">Aikidō Föderation Deutschland e.V.</a><br />
          Stand: Nov 2013<br />
        </p>
        <select class="form-select" id="contentcreator">
        </select>
        <br />
        <label for="minkyu" class="form-label">Min <span class="minkyu">5. Kyu</span></label>
        <input type="range" class="form-range" min="1" max="5" step="1" id="minkyu" value="1">
        <br />
        <label for="minkyu" class="form-label">Max <span class="minkyu">1. Kyu</span></label>
        <input type="range" class="form-range" min="1" max="5" step="1" id="maxkyu" value="5">
      </div>

      <div id="main" class="col-lg-8 px-0">
        <div class="accordion" id="waza">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingSuwariWaza">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSuwariWaza" aria-expanded="false" aria-controls="collapseSuwariWaza">
                suwari waza
              </button>
            </h2>
            <div id="collapseSuwariWaza" class="accordion-collapse collapse" aria-labelledby="headingSuwariWaza" data-bs-parent="#waza">
              <div class="accordion-body">
                <div class="accordion" id="suwari">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSuwariWazaAiHanmi">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSuwariWazaAiHanmi" aria-expanded="false" aria-controls="collapseSuwariWazaAiHanmi">
                        ai hanmi katate dori
                      </button>
                    </h2>
                    <div id="collapseSuwariWazaAiHanmi" class="accordion-collapse collapse" aria-labelledby="headingSuwariWazaAiHanmi" data-bs-parent="#suwari">
                      <div class="accordion-body">
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-4" role="button" data-angriff="1" data-technik="1">ikkyō (4)</a>
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-4" role="button" data-angriff="1" data-technik="10">irmi nage (4)</a>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSuwariWazaGyakuHanmi">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSuwariWazaGyakiHanmi" aria-expanded="false" aria-controls="collapseSuwariWazaGyakiHanmi">
                        gyaku hanmi katate dori
                      </button>
                    </h2>
                    <div id="collapseSuwariWazaGyakiHanmi" class="accordion-collapse collapse" aria-labelledby="headingSuwariWazaGyakuHanmi" data-bs-parent="#suwari">
                      <div class="accordion-body">
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="2" data-technik="1">ikkyō (3)</a>
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="2" data-technik="2">nikkyō (3)</a>
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="2" data-technik="3">sankyo (3)</a>
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-2" role="button" data-angriff="2" data-technik="4">yonkyo (2)</a>
                        <br />
                        <br />
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="2" data-technik="10">irimi nage (3)</a>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSuwariWazaRyoteDori">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSuwariWazaRyoteDori" aria-expanded="false" aria-controls="collapseSuwariWazaRyoteDori">
                        ryote dori
                      </button>
                    </h2>
                    <div id="collapseSuwariWazaRyoteDori" class="accordion-collapse collapse" aria-labelledby="headingSuwariWazaRyoteDori" data-bs-parent="#suwari">
                      <div class="accordion-body">
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-5" role="button" data-angriff="3" data-technik="21">kokyo ho (5)</a>
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="headingSuwariWazaKataDori">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSuwariWazaKataDori" aria-expanded="false" aria-controls="collapseSuwariWazaKataDori">
                        kata dori
                      </button>
                    </h2>
                    <div id="collapseSuwariWazaKataDori" class="accordion-collapse collapse" aria-labelledby="headingSuwariWazaKataDori" data-bs-parent="#suwari">
                      <div class="accordion-body">
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="4" data-technik="1">ikkyō (4)</a>
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="4" data-technik="2">nikkyō (4)</a>
                        <a href="javascript:void(0);" target="_new" class="btn btn-info kyu kyu-3" role="button" data-angriff="4" data-technik="3">sankyo (4)</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingHanmiHandachiWaza">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHanmiHandachiWaza" aria-expanded="false" aria-controls="collapseHanmiHandachiWaza">
                hanmi handachi waza
              </button>
            </h2>
            <div id="collapseHanmiHandachiWaza" class="accordion-collapse collapse" aria-labelledby="headingHanmiHandachiWaza" data-bs-parent="#waza">
              <div class="accordion-body">
                @TODO
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTachiWaza">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTachiWaza" aria-expanded="false" aria-controls="collapseTachiWaza">
                tachi mae waza
              </button>
            </h2>
            <div id="collapseTachiWaza" class="accordion-collapse collapse" aria-labelledby="headingTachiWaza" data-bs-parent="#waza">
              <div class="accordion-body">
                @TODO
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingUshiroWaza">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseUshiroWaza" aria-expanded="false" aria-controls="collapseUshiroWaza">
                tachi ushiro waza
              </button>
            </h2>
            <div id="collapseUshiroWaza" class="accordion-collapse collapse" aria-labelledby="headingUshiroWaza" data-bs-parent="#waza">
              <div class="accordion-body">
                @TODO
              </div>
            </div>
          </div>
        </div>

        <p class="sources">
          <a href="https://github.com/mbachem/aikimatrix" target="_new">Aikimatrix Source-Code</a><br />
          <a href="javascript:void(0);" target="_new" target="_new" id="sensei-url"></a>
        </p>
      </div>
    </div>

    <script>
      $(function() {
        let baseurl = window.location.href.split("#")[0];
        let sensei = window.location.hash.substr(1);

        for (i=0; i<matrix.length; i++) {
          let $option = $("<option />")
            .html(matrix[i].name)
            .attr("value", matrix[i].tag)
            .data("m", matrix[i]);

          if (sensei === matrix[i].tag) {
            $option.attr("selected", "selected");
          }
          $("#contentcreator").append($option);
        }

        $("#contentcreator").change(function() {
          window.location.href = baseurl + '#' + $(this).val();
          let m = $('option:selected', $(this)).data("m");

          $("a#sensei-url")
            .attr("href", m["url"])
            .html(m["url"]);

          $("a.kyu").each(function() {
            let angriff = Number($(this).data("angriff"));
            let technik = Number($(this).data("technik"));
        
            if (
              (typeof(m["urls"][angriff]) !== "undefined") &&
              (typeof(m["urls"][angriff][technik]) !== "undefined") &&
              (typeof(m["urls"][angriff][technik]["url"]) !== "undefined") &&
              m["urls"][angriff][technik]["url"].length > 0
            ) {
              $(this).removeClass("missing");
              $(this).attr("href", m["urls"][angriff][technik]["url"]);
            } else {
              $(this).addClass("missing");
            }
          });
        }).change();

      });

    </script>
  </body>
</html>
